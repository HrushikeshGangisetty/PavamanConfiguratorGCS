<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/pavamanconfiguratorgcs/ui/fullparams/components/CompactParameterRow.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/pavamanconfiguratorgcs/ui/fullparams/components/CompactParameterRow.kt" />
              <option name="originalContent" value="package com.example.pavamanconfiguratorgcs.ui.fullparams.components&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.border&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.text.BasicTextField&#10;import androidx.compose.foundation.text.KeyboardActions&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.*&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.SolidColor&#10;import androidx.compose.ui.text.TextStyle&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.ImeAction&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.text.style.TextOverflow&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import com.example.pavamanconfiguratorgcs.data.models.Parameter&#10;&#10;@Composable&#10;fun CompactParameterRow(&#10;    parameter: Parameter,&#10;    isPending: Boolean,&#10;    onEdit: (String) -&gt; Unit,&#10;    onSave: () -&gt; Unit,&#10;    onDiscard: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    var isEditing by remember { mutableStateOf(false) }&#10;    var editValue by remember { mutableStateOf(parameter.getValueAsString()) }&#10;&#10;    // Debug logging for first few parameters&#10;    LaunchedEffect(parameter.name) {&#10;        if (parameter.index.toInt() &lt; 5) {&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Parameter: ${parameter.name}&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Display Name: '${parameter.displayName}'&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Value: ${parameter.value}&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Units: '${parameter.units}'&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Default: ${parameter.defaultValue}&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Description: '${parameter.description.take(80)}'&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Min: ${parameter.minValue}, Max: ${parameter.maxValue}&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Reboot Required: ${parameter.rebootRequired}&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━&quot;)&#10;        }&#10;    }&#10;&#10;    LaunchedEffect(parameter.value) {&#10;        if (!isEditing) {&#10;            editValue = parameter.getValueAsString()&#10;        }&#10;    }&#10;&#10;    Surface(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .clickable { /* Could expand for details in future */ },&#10;        color = when {&#10;            isPending -&gt; Color(0xFF3A5A3A) // Dark green for pending changes&#10;            parameter.isDirty -&gt; Color(0xFF4A4A2A) // Dark yellow for modified&#10;            else -&gt; Color(0xFF1E1E1E) // Default dark gray&#10;        }&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(horizontal = 8.dp, vertical = 6.dp),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            // Name column&#10;            Text(&#10;                text = parameter.name,&#10;                fontSize = 11.sp,&#10;                color = if (parameter.isDirty) Color(0xFFFFEB3B) else Color.White,&#10;                fontWeight = if (parameter.isDirty) FontWeight.Bold else FontWeight.Normal,&#10;                modifier = Modifier.weight(0.25f),&#10;                maxLines = 1,&#10;                overflow = TextOverflow.Ellipsis&#10;            )&#10;&#10;            // Value column (editable) - Using BasicTextField&#10;            Box(modifier = Modifier.weight(0.15f)) {&#10;                if (isEditing) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .height(28.dp)&#10;                            .background(Color(0xFF000000))&#10;                            .border(2.dp, Color(0xFF00FF00))&#10;                            .padding(horizontal = 4.dp),&#10;                        contentAlignment = Alignment.CenterStart&#10;                    ) {&#10;                        BasicTextField(&#10;                            value = editValue,&#10;                            onValueChange = { editValue = it },&#10;                            modifier = Modifier.fillMaxWidth(),&#10;                            textStyle = TextStyle(&#10;                                fontSize = 11.sp,&#10;                                color = Color(0xFF00FF00),&#10;                                fontWeight = FontWeight.Bold&#10;                            ),&#10;                            cursorBrush = SolidColor(Color(0xFF00FF00)),&#10;                            singleLine = true,&#10;                            keyboardOptions = KeyboardOptions(&#10;                                keyboardType = KeyboardType.Number,&#10;                                imeAction = ImeAction.Done&#10;                            ),&#10;                            keyboardActions = KeyboardActions(&#10;                                onDone = {&#10;                                    onEdit(editValue)&#10;                                    isEditing = false&#10;                                }&#10;                            )&#10;                        )&#10;                    }&#10;                } else {&#10;                    Text(&#10;                        text = parameter.getValueAsString(),&#10;                        fontSize = 11.sp,&#10;                        color = if (parameter.isDirty) Color(0xFFFFEB3B) else Color(0xFFCCCCCC),&#10;                        fontWeight = if (parameter.isDirty) FontWeight.Bold else FontWeight.Normal,&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .clickable { isEditing = true },&#10;                        maxLines = 1&#10;                    )&#10;                }&#10;            }&#10;&#10;            // Units column&#10;            Text(&#10;                text = parameter.units.ifEmpty { &quot;-&quot; },&#10;                fontSize = 11.sp,&#10;                color = Color(0xFF999999),&#10;                modifier = Modifier.weight(0.15f),&#10;                maxLines = 1&#10;            )&#10;&#10;            // Description column&#10;            Text(&#10;                text = parameter.description.ifEmpty { &quot;No description&quot; },&#10;                fontSize = 11.sp,&#10;                color = Color(0xFF999999),&#10;                modifier = Modifier.weight(0.4f),&#10;                maxLines = 1,&#10;                overflow = TextOverflow.Ellipsis&#10;            )&#10;&#10;            // Action buttons&#10;            Row(&#10;                horizontalArrangement = Arrangement.spacedBy(2.dp),&#10;                modifier = Modifier.width(40.dp)&#10;            ) {&#10;                if (isEditing) {&#10;                    IconButton(&#10;                        onClick = {&#10;                            onEdit(editValue)&#10;                            isEditing = false&#10;                        },&#10;                        modifier = Modifier.size(20.dp)&#10;                    ) {&#10;                        Icon(&#10;                            Icons.Default.Check,&#10;                            contentDescription = &quot;Confirm&quot;,&#10;                            tint = Color(0xFF4CAF50),&#10;                            modifier = Modifier.size(16.dp)&#10;                        )&#10;                    }&#10;                    IconButton(&#10;                        onClick = {&#10;                            editValue = parameter.getValueAsString()&#10;                            isEditing = false&#10;                        },&#10;                        modifier = Modifier.size(20.dp)&#10;                    ) {&#10;                        Icon(&#10;                            Icons.Default.Close,&#10;                            contentDescription = &quot;Cancel&quot;,&#10;                            tint = Color(0xFFF44336),&#10;                            modifier = Modifier.size(16.dp)&#10;                        )&#10;                    }&#10;                } else if (isPending) {&#10;                    IconButton(&#10;                        onClick = onSave,&#10;                        modifier = Modifier.size(20.dp)&#10;                    ) {&#10;                        Text(&quot;↑&quot;, color = Color(0xFF4CAF50), fontSize = 14.sp)&#10;                    }&#10;                    IconButton(&#10;                        onClick = onDiscard,&#10;                        modifier = Modifier.size(20.dp)&#10;                    ) {&#10;                        Text(&quot;↺&quot;, color = Color(0xFFF44336), fontSize = 14.sp)&#10;                    }&#10;                } else {&#10;                    IconButton(&#10;                        onClick = { isEditing = true },&#10;                        modifier = Modifier.size(20.dp),&#10;                        enabled = !parameter.isReadOnly&#10;                    ) {&#10;                        Icon(&#10;                            Icons.Default.Edit,&#10;                            contentDescription = &quot;Edit&quot;,&#10;                            tint = Color(0xFF999999),&#10;                            modifier = Modifier.size(14.dp)&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.pavamanconfiguratorgcs.ui.fullparams.components&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.border&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.text.BasicTextField&#10;import androidx.compose.foundation.text.KeyboardActions&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.*&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.SolidColor&#10;import androidx.compose.ui.text.TextStyle&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.ImeAction&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.text.style.TextOverflow&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import com.example.pavamanconfiguratorgcs.data.models.Parameter&#10;&#10;@Composable&#10;fun CompactParameterRow(&#10;    parameter: Parameter,&#10;    isPending: Boolean,&#10;    onEdit: (String) -&gt; Unit,&#10;    onSave: () -&gt; Unit,&#10;    onDiscard: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    var isEditing by remember { mutableStateOf(false) }&#10;    var editValue by remember { mutableStateOf(parameter.getValueAsString()) }&#10;    var showDescriptionDialog by remember { mutableStateOf(false) }&#10;&#10;    // Debug logging for first few parameters&#10;    LaunchedEffect(parameter.name) {&#10;        if (parameter.index.toInt() &lt; 5) {&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Parameter: ${parameter.name}&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Display Name: '${parameter.displayName}'&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Value: ${parameter.value}&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Units: '${parameter.units}'&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Default: ${parameter.defaultValue}&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Description: '${parameter.description.take(80)}'&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Min: ${parameter.minValue}, Max: ${parameter.maxValue}&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;Reboot Required: ${parameter.rebootRequired}&quot;)&#10;            android.util.Log.i(&quot;CompactParameterRow&quot;, &quot;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━&quot;)&#10;        }&#10;    }&#10;&#10;    LaunchedEffect(parameter.value) {&#10;        if (!isEditing) {&#10;            editValue = parameter.getValueAsString()&#10;        }&#10;    }&#10;&#10;    // Description Dialog&#10;    if (showDescriptionDialog) {&#10;        AlertDialog(&#10;            onDismissRequest = { showDescriptionDialog = false },&#10;            title = {&#10;                Column {&#10;                    Text(&#10;                        text = parameter.displayName.ifEmpty { parameter.name },&#10;                        style = MaterialTheme.typography.titleLarge,&#10;                        fontWeight = FontWeight.Bold&#10;                    )&#10;                    if (parameter.displayName.isNotEmpty() &amp;&amp; parameter.displayName != parameter.name) {&#10;                        Text(&#10;                            text = parameter.name,&#10;                            style = MaterialTheme.typography.bodySmall,&#10;                            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                        )&#10;                    }&#10;                }&#10;            },&#10;            text = {&#10;                Column(modifier = Modifier.fillMaxWidth()) {&#10;                    if (parameter.description.isNotEmpty()) {&#10;                        Text(&#10;                            text = parameter.description,&#10;                            style = MaterialTheme.typography.bodyMedium&#10;                        )&#10;                    } else {&#10;                        Text(&#10;                            text = &quot;No description available for this parameter.&quot;,&#10;                            style = MaterialTheme.typography.bodyMedium,&#10;                            color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                        )&#10;                    }&#10;&#10;                    Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                    // Additional info&#10;                    if (parameter.units.isNotEmpty()) {&#10;                        Text(&#10;                            text = &quot;Units: ${parameter.units}&quot;,&#10;                            style = MaterialTheme.typography.bodySmall,&#10;                            fontWeight = FontWeight.Medium&#10;                        )&#10;                    }&#10;                    if (parameter.minValue != null || parameter.maxValue != null) {&#10;                        Text(&#10;                            text = &quot;Range: ${parameter.minValue ?: &quot;∞&quot;} to ${parameter.maxValue ?: &quot;∞&quot;}&quot;,&#10;                            style = MaterialTheme.typography.bodySmall,&#10;                            fontWeight = FontWeight.Medium&#10;                        )&#10;                    }&#10;                }&#10;            },&#10;            confirmButton = {&#10;                TextButton(onClick = { showDescriptionDialog = false }) {&#10;                    Text(&quot;Close&quot;)&#10;                }&#10;            }&#10;        )&#10;    }&#10;&#10;    Surface(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .clickable { /* Could expand for details in future */ },&#10;        color = when {&#10;            isPending -&gt; Color(0xFF3A5A3A) // Dark green for pending changes&#10;            parameter.isDirty -&gt; Color(0xFF4A4A2A) // Dark yellow for modified&#10;            else -&gt; Color(0xFF1E1E1E) // Default dark gray&#10;        }&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(horizontal = 8.dp, vertical = 6.dp),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            // Name column with info icon&#10;            Row(&#10;                modifier = Modifier.weight(0.25f),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Text(&#10;                    text = parameter.name,&#10;                    fontSize = 11.sp,&#10;                    color = if (parameter.isDirty) Color(0xFFFFEB3B) else Color.White,&#10;                    fontWeight = if (parameter.isDirty) FontWeight.Bold else FontWeight.Normal,&#10;                    modifier = Modifier.weight(1f),&#10;                    maxLines = 1,&#10;                    overflow = TextOverflow.Ellipsis&#10;                )&#10;&#10;                // Info icon&#10;                IconButton(&#10;                    onClick = { showDescriptionDialog = true },&#10;                    modifier = Modifier.size(20.dp)&#10;                ) {&#10;                    Icon(&#10;                        Icons.Default.Info,&#10;                        contentDescription = &quot;Show description&quot;,&#10;                        tint = Color(0xFF64B5F6),&#10;                        modifier = Modifier.size(14.dp)&#10;                    )&#10;                }&#10;            }&#10;&#10;            // Value column (editable) - Using BasicTextField&#10;            Box(modifier = Modifier.weight(0.15f)) {&#10;                if (isEditing) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .height(28.dp)&#10;                            .background(Color(0xFF000000))&#10;                            .border(2.dp, Color(0xFF00FF00))&#10;                            .padding(horizontal = 4.dp),&#10;                        contentAlignment = Alignment.CenterStart&#10;                    ) {&#10;                        BasicTextField(&#10;                            value = editValue,&#10;                            onValueChange = { editValue = it },&#10;                            modifier = Modifier.fillMaxWidth(),&#10;                            textStyle = TextStyle(&#10;                                fontSize = 11.sp,&#10;                                color = Color(0xFF00FF00),&#10;                                fontWeight = FontWeight.Bold&#10;                            ),&#10;                            cursorBrush = SolidColor(Color(0xFF00FF00)),&#10;                            singleLine = true,&#10;                            keyboardOptions = KeyboardOptions(&#10;                                keyboardType = KeyboardType.Number,&#10;                                imeAction = ImeAction.Done&#10;                            ),&#10;                            keyboardActions = KeyboardActions(&#10;                                onDone = {&#10;                                    onEdit(editValue)&#10;                                    isEditing = false&#10;                                }&#10;                            )&#10;                        )&#10;                    }&#10;                } else {&#10;                    Text(&#10;                        text = parameter.getValueAsString(),&#10;                        fontSize = 11.sp,&#10;                        color = if (parameter.isDirty) Color(0xFFFFEB3B) else Color(0xFFCCCCCC),&#10;                        fontWeight = if (parameter.isDirty) FontWeight.Bold else FontWeight.Normal,&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .clickable { isEditing = true },&#10;                        maxLines = 1&#10;                    )&#10;                }&#10;            }&#10;&#10;            // Units column&#10;            Text(&#10;                text = parameter.units.ifEmpty { &quot;-&quot; },&#10;                fontSize = 11.sp,&#10;                color = Color(0xFF999999),&#10;                modifier = Modifier.weight(0.15f),&#10;                maxLines = 1&#10;            )&#10;&#10;            // Description column&#10;            Text(&#10;                text = parameter.description.ifEmpty { &quot;No description&quot; },&#10;                fontSize = 11.sp,&#10;                color = Color(0xFF999999),&#10;                modifier = Modifier.weight(0.4f),&#10;                maxLines = 1,&#10;                overflow = TextOverflow.Ellipsis&#10;            )&#10;&#10;            // Action buttons&#10;            Row(&#10;                horizontalArrangement = Arrangement.spacedBy(2.dp),&#10;                modifier = Modifier.width(40.dp)&#10;            ) {&#10;                if (isEditing) {&#10;                    IconButton(&#10;                        onClick = {&#10;                            onEdit(editValue)&#10;                            isEditing = false&#10;                        },&#10;                        modifier = Modifier.size(20.dp)&#10;                    ) {&#10;                        Icon(&#10;                            Icons.Default.Check,&#10;                            contentDescription = &quot;Confirm&quot;,&#10;                            tint = Color(0xFF4CAF50),&#10;                            modifier = Modifier.size(16.dp)&#10;                        )&#10;                    }&#10;                    IconButton(&#10;                        onClick = {&#10;                            editValue = parameter.getValueAsString()&#10;                            isEditing = false&#10;                        },&#10;                        modifier = Modifier.size(20.dp)&#10;                    ) {&#10;                        Icon(&#10;                            Icons.Default.Close,&#10;                            contentDescription = &quot;Cancel&quot;,&#10;                            tint = Color(0xFFF44336),&#10;                            modifier = Modifier.size(16.dp)&#10;                        )&#10;                    }&#10;                } else if (isPending) {&#10;                    IconButton(&#10;                        onClick = onSave,&#10;                        modifier = Modifier.size(20.dp)&#10;                    ) {&#10;                        Text(&quot;↑&quot;, color = Color(0xFF4CAF50), fontSize = 14.sp)&#10;                    }&#10;                    IconButton(&#10;                        onClick = onDiscard,&#10;                        modifier = Modifier.size(20.dp)&#10;                    ) {&#10;                        Text(&quot;↺&quot;, color = Color(0xFFF44336), fontSize = 14.sp)&#10;                    }&#10;                } else {&#10;                    IconButton(&#10;                        onClick = { isEditing = true },&#10;                        modifier = Modifier.size(20.dp),&#10;                        enabled = !parameter.isReadOnly&#10;                    ) {&#10;                        Icon(&#10;                            Icons.Default.Edit,&#10;                            contentDescription = &quot;Edit&quot;,&#10;                            tint = Color(0xFF999999),&#10;                            modifier = Modifier.size(14.dp)&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>